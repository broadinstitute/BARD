//Projects that do not have any ACL records  will have null AOI fields
SELECT PROJECT.PROJECT_ID, PROJECT.PROJECT_NAME, AOI.OBJECT_ID_IDENTITY FROM PROJECT PROJECT LEFT JOIN ACL_OBJECT_IDENTITY AOI ON PROJECT.PROJECT_ID=AOI.OBJECT_ID_IDENTITY
LEFT JOIN ACL_CLASS ACLASS ON ACLASS.ID=AOI.OBJECT_ID_CLASS WHERE ACLASS.CLASS='bard.db.project.Project';

//Experiments that do not have any ACL records  will have null AOI fields
SELECT EXPERIMENT.EXPERIMENT_ID, EXPERIMENT.EXPERIMENT_NAME, AOI.OBJECT_ID_IDENTITY FROM EXPERIMENT EXPERIMENT
LEFT JOIN ACL_OBJECT_IDENTITY AOI ON EXPERIMENT.EXPERIMENT_ID=AOI.OBJECT_ID_IDENTITY
LEFT JOIN ACL_CLASS ACLASS ON ACLASS.ID=AOI.OBJECT_ID_CLASS WHERE ACLASS.CLASS='bard.db.experiment.Experiment';

//Assays that do not have any ACL records  will have null AOI fields
SELECT ASSAY.ASSAY_ID,AOI.OBJECT_ID_IDENTITY, ASSAY.ASSAY_NAME  FROM ASSAY ASSAY
LEFT JOIN ACL_OBJECT_IDENTITY AOI ON ASSAY.ASSAY_ID=AOI.OBJECT_ID_IDENTITY
LEFT JOIN ACL_CLASS ACLASS ON ACLASS.ID=AOI.OBJECT_ID_CLASS
WHERE ACLASS.CLASS='bard.db.registration.Assay';

//Existing entities that were created with bogus roles/authorities needs to be cleaned up
//
SELECT aclass.class, SID.SID,AOI.OBJECT_ID_IDENTITY, AOI.OBJECT_ID_CLASS FROM ACL_ENTRY AE JOIN
ACL_OBJECT_IDENTITY AOI ON AE.ACL_OBJECT_IDENTITY=AOI.ID JOIN ACL_SID SID ON SID.ID=AE.SID
join ACL_CLASS aclass on aclass.id=AOI.OBJECT_ID_CLASS
where sid.id in REPLACE_WITH_IDS_OF_BOGUS_TEAMS

//Queries for verifying Entities
//These verify the Broad, assays, projects and experiments with ACL
//You can replace the ROLE Names with the appropriate institution
--Broad experiments
SELECT aclass.class, SID.SID,EXPERIMENT.EXPERIMENT_NAME, EXPERIMENT.EXPERIMENT_ID,AOI.OBJECT_ID_IDENTITY FROM ACL_ENTRY AE JOIN
ACL_OBJECT_IDENTITY AOI ON AE.ACL_OBJECT_IDENTITY=AOI.ID JOIN ACL_SID SID ON SID.ID=AE.SID
JOIN ACL_CLASS ACLASS ON ACLASS.ID=AOI.OBJECT_ID_CLASS
JOIN EXPERIMENT EXPERIMENT ON EXPERIMENT.EXPERIMENT_ID=AOI.OBJECT_ID_IDENTITY
WHERE SID.SID='ROLE_TEAM_BROAD' AND ACLASS.CLASS='bard.db.experiment.Experiment'
;
-- Broad Assays
SELECT aclass.class, SID.SID,ASSAY.ASSAY_NAME, ASSAY.ASSAY_ID,AOI.OBJECT_ID_IDENTITY FROM ACL_ENTRY AE JOIN
ACL_OBJECT_IDENTITY AOI ON AE.ACL_OBJECT_IDENTITY=AOI.ID JOIN ACL_SID SID ON SID.ID=AE.SID
JOIN ACL_CLASS ACLASS ON ACLASS.ID=AOI.OBJECT_ID_CLASS
JOIN ASSAY ASSAY ON ASSAY.ASSAY_ID=AOI.OBJECT_ID_IDENTITY
WHERE SID.SID='ROLE_TEAM_BROAD' AND ACLASS.CLASS='bard.db.registration.Assay'
;
-- Broad Projects
SELECT aclass.class, SID.SID,PROJECT.PROJECT_NAME, PROJECT.PROJECT_ID,AOI.OBJECT_ID_IDENTITY  FROM ACL_ENTRY AE JOIN
ACL_OBJECT_IDENTITY AOI ON AE.ACL_OBJECT_IDENTITY=AOI.ID JOIN ACL_SID SID ON SID.ID=AE.SID
JOIN ACL_CLASS ACLASS ON ACLASS.ID=AOI.OBJECT_ID_CLASS
JOIN PROJECT PROJECT ON PROJECT.PROJECT_ID=AOI.OBJECT_ID_IDENTITY
WHERE SID.SID='ROLE_TEAM_BROAD' AND ACLASS.CLASS='bard.db.project.Project'