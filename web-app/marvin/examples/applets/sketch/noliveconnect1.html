<html>
<head>
<meta name="author" content="Tamas Vertse">
<title>MarvinSketch Example - Retrieving a structure</title>
    <script type="text/javascript" src="../../sh_main.js"></script>
    <script type="text/javascript" src="../../sh_javascript.js"></script>
    <script type="text/javascript" src="../../sh_html.js"></script>
    <link REL ="stylesheet" TYPE="text/css" HREF="../../sh_nedit.css" TITLE="Style">
<link REL="stylesheet" TYPE="text/css" HREF="../../../marvinmanuals.css" TITLE="Style">
</head>
<body onload="sh_highlightDocument();">
<h1>MarvinSketch Example - Retrieving a structure</h1>
<p>Deprecated example</p>

<p>
Press the <code>'Submit&nbsp;as&nbsp;Molfile'</code> or the <code>'Submit&nbsp;as&nbsp;SMILES'</code> button to retrieve the
molecule from MarvinSketch in the specified format and post it to another page to display the structure in MarvinView.</p>
<center>
<script type="text/javascript" src="../../../marvin.js"></script>

<form name="molform" method="post" action="../display-result.jsp">
	<input type="button" value="Submit as Molfile"
	    onClick="getMol('mol')">
	<input type="button" value="Submit as SMILES"
		onClick="getMol('smiles')">
	<input type="hidden" name="molecule">
</form>


<script type="text/javascript">
<!--

/* Retrieves the molecule (in the specified format) from the sketcher and
post it.
*/
function getMol(format) {
	if(document.MSketch != null) {
		var s = document.MSketch.getMol(format);
		document.molform.molecule.value = s;
		document.molform.submit();
	} else {
		alert("Cannot import molecule:\n" +
		"no JavaScript to Java communication in your browser.\n");
	}
}

msketch_name="MSketch";
msketch_begin("../../../",540,480);
msketch_param("mol","../../../mols-2d/caffeine.mol");
msketch_end();
//--></script>
</center>

<p>When the form is submited, the molecule is posted to the <code>display-result.jsp</code> page.</p>
<pre class="sh_html">
    &lt;script type="text/javascript" src="../../../marvin.js">&lt;/script>
    &lt;form name="molform" method="post" action="../display-result.jsp">
            &lt;input type="button" value="Submit as Molfile"
                onClick="getMol('mol')">
            &lt;input type="button" value="Submit as SMILES"
                    onClick="getMol('smiles')">
            &lt;input type="hidden" name="molecule">
    &lt;/form>

&lt;script type="text/javascript">
</pre>
<pre class="sh_javascript">
&lt;!--
function getMol(format) {
	if(document.MSketch != null) {
		var s = document.MSketch.getMol(format);
		document.molform.molecule.value = s;
		document.molform.submit();
	} else {
		alert("Cannot import molecule:\n" +
		"no JavaScript to Java communication in your browser.\n");
	}
}

msketch_name="MSketch";
msketch_begin("../../../",540,480);
msketch_param("mol","../../../mols-2d/caffeine.mol");
msketch_end();
//-->&lt;/script>    
</pre>
</body>
</html>
